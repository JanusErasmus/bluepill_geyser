[{"id":"cfdef8a3.db9f48","type":"function","z":"8e3dae77.2b0e1","name":"Node 5: Garage Doors","func":"upTime = msg.payload.uptime / 60000;\ntemp = msg.payload.temperature / 1000;\nleft = msg.payload.voltages[0];\nright = msg.payload.voltages[1];\n    \nfunction minutesToString(minFloat)\n{\n    now = minFloat * 60;\n\tif(now < 60)\n\t{\n\t\treturn  Math.round(now) + \"s\";\n\t}\n\telse\n\t{\n\t\tmin = now / 60;\n\t\tnow %= 60;\n\t\tif(min < 60)\n\t\t{\n\t\t\treturn Math.round(min) + \"m \" + Math.round(now) + \"s\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\thour = min / 60;\n\t\t\tmin %= 60;\n\t\t\tif(hour < 24)\n\t\t\t{\n\t\t\t\treturn Math.round(hour) + \"h \" + Math.round(min) + \"m \" + Math.round(min) + \"s\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tday = hour / 24;\n\t\t\t\thour %= 24;\n\t\t\t\treturn Math.round(day) + \"d\" + Math.round(hour) + \"h\" + Math.round(min) + \"m\" + Math.round(now) + \"s\";\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction doorStateToString (state){\n    switch(state)\n    {\n        default:\n            return \"Unknown\";\n        case 1:\n            return \"Closed\";\n        case 2:\n            return \"Moving\";\n        case 3:\n            return \"Open\";\n    }\n}\n\nupTime = minutesToString(upTime);\n\nmsg.payload = \"*Garage Doors*\" +\n              \"\\nUp time: \" + upTime + \n              \"\\ntemp: \" + temp.toFixed(2) + \" C\" +\n              \"\\nLeft: \" + doorStateToString(left) +\n              \"\\nRight: \" + doorStateToString(right)\n\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":380,"wires":[["9f764455.ac1488"]]}]
